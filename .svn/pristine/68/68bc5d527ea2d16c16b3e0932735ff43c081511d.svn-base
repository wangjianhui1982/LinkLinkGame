/*
 * @Author: PanYu gordon_pp@163.com
 * @Date: 2023-07-13 18:04:19
 * @LastEditors: PanYu gordon_pp@163.com
 * @LastEditTime: 2023-07-15 07:09:39
 * @FilePath: \Nuoduidui\assets\Game\Script\Mahjong\MahjongTile.ts
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 */
const { ccclass, property } = cc._decorator;

export enum SUIT {
    TONG = 0,
    WAN = 1,
    TIAO = 2,
    ZHONG = 3,
    FA = 4,
    BAI = 5,
    Dong = 6,
    Nan = 7,
    Xi = 8,
    Bei = 9,
    Chun = 10,
    Xia = 11,
    Qiu = 12,
    Dong2 = 13,
    Jv = 14,
    Lan = 15,
    Mei = 16,
    Zhu = 17,
}

export interface MahjongPos {
    x: number;
    y: number;
}

export default class MahjongTileData {
    public Suit: number;

    public Num: number;

    public Desc: string;

    private MahjongName: {};

    private Pos: MahjongPos;

    private MatchMahjong;

    public constructor(suit: number, number: number) {
        this.MahjongName = {
            0: '筒',
            1: '万',
            2: '条',
            3: '中',
            4: '发',
            5: '白',
            6: '东',
            7: '南',
            8: '西',
            9: '北',
            10: '春',
            11: '夏',
            12: '秋',
            13: '冬',
            14: '菊',
            15: '蓝',
            16: '梅',
            17: '竹',
        };
        this.Suit = suit; // 筒子、万子、条子和中发白等属性
        this.Num = number; // 几筒、几万、几条等属性
        if (this.GetIsFeng2()) {
            this.Desc = this.Suit != SUIT.ZHONG && this.Suit != SUIT.FA && this.Suit != SUIT.BAI ? this.Num + this.MahjongName[suit] : this.MahjongName[suit];
        }
        else {
            this.Desc = this.MahjongName[suit];
        }
        this.MatchMahjong = {};
    }

    public SetPos(pos: MahjongPos): void {
        this.Pos = pos;
    }

    public GetPos(): MahjongPos {
        return this.Pos;
    }

    public SetMatchMahjong(data): void {
        this.MatchMahjong = data;
    }

    public GetIsFeng(): boolean {
        return this.Suit != SUIT.BAI && this.Suit != SUIT.ZHONG && this.Suit != SUIT.FA;
    }

    public GetIsFeng2(): boolean {
        return this.Suit != SUIT.Dong && this.Suit != SUIT.Nan && this.Suit != SUIT.Xi && this.Suit != SUIT.Bei
            && this.Suit != SUIT.Chun && this.Suit != SUIT.Xia && this.Suit != SUIT.Qiu && this.Suit != SUIT.Dong2
            && this.Suit != SUIT.Jv && this.Suit != SUIT.Lan && this.Suit != SUIT.Mei && this.Suit != SUIT.Zhu;
    }
}
